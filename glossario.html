<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dicion√°rio SAP</title>
    <link rel="stylesheet" href="estilos.css">
    <style>
        .glossary-search-input {
            padding: 15px 25px;
            width: 100%;
            max-width: 500px;
            border-radius: 50px;
            border: none;
            font-size: 1.1rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            transition: all 0.2s;
            color: #334155;
            margin-top: 20px; /* Espa√ßo acima do input */
        }
        .glossary-search-input:focus {
            outline: none;
            transform: scale(1.02);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }
        
        .term-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            max-width: 1000px;
            margin: 40px auto 50px; /* Margem positiva para afastar do Hero */
            padding: 0 20px;
            position: relative;
            z-index: 10;
        }

        .card { padding: 25px; height: 100%; display: flex; flex-direction: column; }

        .term-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #f1f5f9; padding-bottom: 10px; }
        .term-title { font-size: 1.4rem; font-weight: 800; color: #1e293b; font-family: 'Consolas', monospace; }
        
        .term-def { font-size: 0.95rem; color: #475569; line-height: 1.6; margin-bottom: 15px; flex: 1; }
        .term-example { background: #f8fafc; padding: 10px; border-radius: 6px; font-size: 0.85rem; color: #334155; border-left: 3px solid #cbd5e1; }
        
        #noResults { text-align: center; display: none; color: #64748b; margin-top: 50px; font-size: 1.2rem; }
    </style>
</head>
<body>

    <header>
        <div style="display: flex; align-items: center; gap: 10px;">
            <button class="btn-outline-light" id="menuToggle" style="padding: 8px; display: none;" onclick="toggleSidebar()">
                ‚ò∞
            </button>
            <div class="brand">HUB DE CONHECIMENTO <span>Gloss√°rio</span></div>
        </div>
        <div class="header-actions">
             <a href="index.html" class="btn-back">üè† Voltar</a>
        </div>
    </header>

    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

    <div class="workspace">
        <aside id="mainSidebar">
            <div class="history-container">
                <div class="history-header"><span class="history-title">Vistos Recentemente</span><button class="btn-clear-history" onclick="clearHistory()">Limpar</button></div>
                <div id="history-list" class="history-list"></div>
            </div>
        </aside>
        
        <main style="flex: 1; overflow-y: auto; padding: 0;">
            <div class="hero hero-blue">
                <h1>Dicion√°rio SAP</h1>
                <p>Tradu√ß√£o de siglas e c√≥digos t√©cnicos para o portugu√™s claro.</p>
                
                <input type="text" id="termSearch" class="glossary-search-input" 
                       placeholder="Digite uma sigla (ex: DEBMAS, PI, RFC)..." autofocus>
            </div>

            <div id="termsContainer" class="term-grid">
                
                <div class="card term-card">
                    <div class="term-header"><span class="term-title">IDoc</span><span class="badge badge-tech">Conceito</span></div>
                    <div class="term-def"><strong>Intermediate Document.</strong> √â o formato padr√£o de arquivo para troca de dados entre o SAP e outros sistemas. Funciona como um "envelope" digital que carrega as informa√ß√µes de neg√≥cio.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">BAPI</span><span class="badge badge-tech">Fun√ß√£o</span></div>
                    <div class="term-def"><strong>Business API.</strong> √â uma "fun√ß√£o pronta" e segura do SAP. Imagine um formul√°rio oficial que valida tudo (se o cliente existe, se o CPF √© v√°lido) antes de salvar no banco de dados.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">RFC</span><span class="badge badge-tech">Conex√£o</span></div>
                    <div class="term-def"><strong>Remote Function Call.</strong> √â a tecnologia que permite chamar uma fun√ß√£o do SAP vindo de fora. √â o "protocolo" de comunica√ß√£o direta.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">CPI</span><span class="badge badge-warning">Nuvem</span></div>
                    <div class="term-def"><strong>Cloud Platform Integration.</strong> O "carteiro moderno" da SAP. Ele fica na nuvem (BTP), recebe os dados do 4MDG (JSON), traduz para a linguagem do SAP e entrega.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">PI / PO</span><span class="badge badge-warning">Legado</span></div>
                    <div class="term-def"><strong>Process Integration (Orchestration).</strong> O antecessor do CPI. √â um servidor f√≠sico instalado na empresa que gerencia integra√ß√µes. Muitos clientes antigos ainda usam.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">CC</span><span class="badge badge-warning">Seguran√ßa</span></div>
                    <div class="term-def"><strong>Cloud Connector.</strong> Um software de seguran√ßa vital. Ele cria um "t√∫nel" seguro entre a nuvem e o servidor da empresa, permitindo integra√ß√£o sem abrir portas perigosas no firewall.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">WE02 / WE05</span><span class="badge badge-tech">Transa√ß√£o</span></div>
                    <div class="term-def"><strong>Lista de IDocs.</strong> √â o "Google" dos seus dados. √â a tela onde voc√™ pesquisa, filtra e v√™ se o IDoc chegou, se deu erro (vermelho) ou se foi sucesso (verde).</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">WE19</span><span class="badge badge-tech">Ferramenta Teste</span></div>
                    <div class="term-def"><strong>Ferramenta de Teste.</strong> Permite clonar um IDoc existente (mesmo com erro), editar os dados manualmente e processar como um novo. Essencial para testar corre√ß√µes (Debug) sem pedir reenvio da origem.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">ST22</span><span class="badge badge-tech">Debug</span></div>
                    <div class="term-def"><strong>An√°lise de Dumps.</strong> Quando o SAP "explode" (crash/tela de erro), ele gera um Dump. A ST22 √© a caixa-preta que mostra exatamente qual linha do c√≥digo ABAP quebrou e o motivo (ex: Time Out, Mem√≥ria, Erro de Sintaxe).</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">SALE</span><span class="badge badge-tech">Config</span></div>
                    <div class="term-def"><strong>Menu ALE/IDoc.</strong> O "QG" da configura√ß√£o de integra√ß√£o. √â uma transa√ß√£o de menu que agrupa tudo necess√°rio para criar Sistemas L√≥gicos, Modelos de Distribui√ß√£o e configurar a comunica√ß√£o entre sistemas.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">MM90</span><span class="badge badge-tech">Logs Material</span></div>
                    <div class="term-def"><strong>Logs Detalhados (MM).</strong> Quando o IDoc de Material (MATMAS) d√° erro gen√©rico na WE02, a MM90 revela o detalhe t√©cnico oculto do Application Log.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">SLG1</span><span class="badge badge-tech">Log Aplica√ß√£o</span></div>
                    <div class="term-def"><strong>Application Log Geral.</strong> O "Raio-X" do sistema. Erros complexos de CLFMAS (Classifica√ß√£o) e Business Partners que n√£o aparecem na mensagem curta do IDoc ficam gravados aqui.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">BD87</span><span class="badge badge-tech">Transa√ß√£o</span></div>
                    <div class="term-def"><strong>Reprocessamento.</strong> Se um IDoc deu erro t√©cnico (ex: banco travado), √© aqui que voc√™ "chuta" ele de novo para tentar processar sem precisar reenviar do 4MDG.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">WE20</span><span class="badge badge-tech">Config</span></div>
                    <div class="term-def"><strong>Perfil do Parceiro.</strong> √â onde configuramos "quem" pode falar com o SAP. Se o IDoc falha dizendo "Parceiro n√£o encontrado", o problema est√° aqui.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">BP</span><span class="badge badge-info">Conceito</span></div>
                    <div class="term-def"><strong>Business Partner.</strong> No SAP moderno (S/4HANA), n√£o existe mais separa√ß√£o r√≠gida entre Cliente e Fornecedor. Todos s√£o "Parceiros de Neg√≥cio" (BP) que assumem pap√©is diferentes.</div>
                    <div class="term-example">Substitui: XK01, XD01, MK01.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">Segmento</span><span class="badge badge-tech">Estrutura</span></div>
                    <div class="term-def"><strong>Gaveta de Dados.</strong> O IDoc √© organizado em pastas chamadas segmentos. Ex: <code>E1MARAM</code> √© o segmento mestre do material. Se voc√™ n√£o mandar o segmento, o SAP ignora os campos dentro dele.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">Inbound</span><span class="badge badge-warning">Dire√ß√£o</span></div>
                    <div class="term-def"><strong>Entrada.</strong> Tudo que vem de fora e <strong>ENTRA</strong> no SAP. √â o fluxo de carga de dados.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">Outbound</span><span class="badge badge-warning">Dire√ß√£o</span></div>
                    <div class="term-def"><strong>Sa√≠da.</strong> Tudo que o SAP gera e <strong>ENVIA</strong> para fora.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">Empresa Global</span><span class="badge badge-info">Mapeamento</span></div>
                    <div class="term-def"><strong>Global Company Code.</strong> O IDoc muitas vezes n√£o aceita o c√≥digo da empresa direto (ex: "1000"). Ele exige um c√≥digo global (ex: "GL_1000") configurado na OB08. Fundamental para preencher os segmentos <code>E1LFB1M</code> (Fornecedor) e <code>E1KNB1M</code> (Cliente) sem erro.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">MATMAS</span><span class="badge badge-info">Material</span></div>
                    <div class="term-def"><strong>Material Master.</strong> O IDoc mais comum para cadastrar Produtos/Materiais. Cont√©m dados b√°sicos (peso, nome), dados de vendas e contabilidade.</div>
                    <div class="term-example">Tabelas Principais: MARA, MARC.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">ARTMAS</span><span class="badge badge-info">Varejo</span></div>
                    <div class="term-def"><strong>Article Master.</strong> Uma vers√£o "vitaminada" do MATMAS feita para o Varejo. Suporta grades (Cor/Tamanho) e categorias complexas.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">DEBMAS</span><span class="badge badge-info">Cliente</span></div>
                    <div class="term-def"><strong>Debtor Master (Cliente).</strong> IDoc para cadastrar Clientes. No S/4HANA, ele √© processado para criar um "Business Partner" (Parceiro de Neg√≥cio).</div>
                    <div class="term-example">Tabelas: KNA1, KNB1.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">CREMAS</span><span class="badge badge-info">Fornecedor</span></div>
                    <div class="term-def"><strong>Creditor Master (Fornecedor).</strong> IDoc para cadastrar Fornecedores. Assim como o DEBMAS, vira um Business Partner no S/4HANA.</div>
                    <div class="term-example">Tabelas: LFA1, LFB1.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">SRVMAS</span><span class="badge badge-info">Servi√ßo</span></div>
                    <div class="term-def"><strong>Service Master.</strong> Usado para cadastrar Servi√ßos (m√£o de obra, consultoria). N√£o tem estoque, mas possui descri√ß√µes longas e categorias de avalia√ß√£o.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">ADRMAS</span><span class="badge badge-info">Endere√ßo</span></div>
                    <div class="term-def"><strong>Address Master.</strong> IDoc auxiliar. √Äs vezes o SAP pede para enviar o endere√ßo separado do Cliente/Fornecedor. √â aqui que ele vai.</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">CLFMAS</span><span class="badge badge-info">T√©cnico</span></div>
                    <div class="term-def"><strong>Classification.</strong> IDoc para "colar adesivos" de caracter√≠sticas t√©cnicas nos materiais (ex: Voltagem: 220v, Cor: Azul).</div>
                </div>

                <div class="card term-card">
                    <div class="term-header"><span class="term-title">MATQM</span><span class="badge badge-info">Qualidade</span></div>
                    <div class="term-def"><strong>Quality Management.</strong> Extens√£o do material para dizer como ele deve ser inspecionado ao chegar no estoque (regras de qualidade).</div>
                </div>

            </div>
            
            <div id="noResults">
                <span style="font-size: 3rem; display: block; margin-bottom: 10px;">ü§î</span>
                Nenhum termo encontrado para sua busca.
            </div>
        </main>
    </div>

    <style>
        @media (max-width: 768px) {
            #menuToggle { display: block !important; }
            main { padding: 15px !important; }
            
            .term-grid {
                grid-template-columns: 1fr;
                padding: 0;
                margin-top: 20px;
            }

            .glossary-search-input {
                width: 100%;
                font-size: 1rem;
                padding: 12px 20px;
            }

            .hero h1 { font-size: 1.8rem; }
            .hero p { font-size: 1rem; padding: 0 10px; }
        }
    </style>

    <script>
        function toggleSidebar() {
            document.getElementById('mainSidebar').classList.toggle('open');
            document.getElementById('sidebarOverlay').classList.toggle('open');
        }

        document.getElementById('termSearch').addEventListener('keyup', function(e) {
            const term = e.target.value.toUpperCase().trim();
            let visibleCount = 0;
            
            document.querySelectorAll('.term-card').forEach(card => {
                const content = card.innerText.toUpperCase();
                
                if (content.includes(term)) {
                    card.style.display = 'flex';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });

            document.getElementById('noResults').style.display = visibleCount === 0 ? 'block' : 'none';
        });

        // --- HIST√ìRICO DE NAVEGA√á√ÉO ---
        (function() {
            const MAX_HISTORY = 10;
            const HISTORY_KEY = 'sap_docs_history';
            if (!window.location.pathname.endsWith('index.html')) {
                const pageTitle = document.title.split('-')[0].trim();
                const currentPage = { title: pageTitle, url: window.location.pathname.split('/').pop() };
                let history = JSON.parse(localStorage.getItem(HISTORY_KEY) || '[]');
                history = history.filter(h => h.url !== currentPage.url);
                history.unshift(currentPage);
                if (history.length > MAX_HISTORY) history.pop();
                localStorage.setItem(HISTORY_KEY, JSON.stringify(history));
            }
            const container = document.getElementById('history-list');
            if (container) {
                const history = JSON.parse(localStorage.getItem(HISTORY_KEY) || '[]');
                if (history.length === 0) container.innerHTML = '<div style="padding:5px 12px; font-size:0.75rem; color:#64748b;">Nenhum item recente.</div>';
                else { container.innerHTML = history.map(h => `<a href="${h.url}" class="history-link">${h.title}</a>`).join(''); }
            }
            window.clearHistory = function() { localStorage.removeItem(HISTORY_KEY); if(document.getElementById('history-list')) document.getElementById('history-list').innerHTML = ''; }
        })();
    </script>
</body>
</html>